# Задание 2. Шардирование

## Описание
- Применили шардирование к коллекции helloDoc в базе somedb
  - Mongo сама под капотом делает Партиционирование в нашем случае шардирование
  - для осуществления схемы
    - деламе две шарды, регистрируем на роутере
    - добавляем моковые данные в БД
    - проверяем
      - запрос данных из приложения - выдаст все данные
      - запрос данных из роута - выдаст все данные
      - запрос данных из одной шарды - выдаст половину данных так как отработало Шардирование
      - ![1_sharding.jpg](schemas/1_sharding.jpg)

## Как запустить
- выполнять из директории/mongo-sharding
```shell
// windows
docker-compose up -d

// если что-то пошло не так 
docker compose down -v

// linuxa 
sudo docker compose up -d 
```

### Настройка БД
- запустите скрипт 
  - [init.sh](scripts/init.sh)

## Как проверить
### Проверка шардинга
- посмотри вывод после выполнения скрипта 
  - поле [check_data_shard1]
    - должно быть меньше или больше половины, то есть часть данных храниться на каждой из шард

### Проверка запроса из приложения
- Откройте в браузере http://localhost:8080
  - даст все данные, что не является проверкой шардинга, так как все данные могли записаться на одну шарду
